<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Games for Us</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <!-- Mobile PWA meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="For Reine">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#ec4899">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
  <style>
    .gamesApp{min-height:100svh; display:grid; place-items:center; padding:0}
    .gamesPhone{width:100%; height:100svh; max-height:none; border-radius:0; background: transparent; box-shadow:none; border:none; backdrop-filter: none; overflow:hidden; display:flex; flex-direction:column}
    
    /* Navigation styles - matching gallery.html */
    .gallery-nav {
      display: flex;
      gap: 8px;
      padding: 12px 16px;
      position: relative;
      z-index: 2;
      background: rgba(255, 255, 255, 0.25);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.35);
    }

    .gallery-nav__link {
      flex: 1;
      text-align: center;
      padding: 10px 12px;
      border-radius: 14px;
      text-decoration: none;
      font-weight: 900;
      color: rgba(17, 24, 39, 0.75);
      background: rgba(255, 255, 255, 0.55);
      border: 1px solid rgba(17, 24, 39, 0.1);
      transition: all 0.2s ease;
    }

    .gallery-nav__link:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(17, 24, 39, 0.1);
    }

    .gallery-nav__link.is-active {
      border: 0;
      color: white;
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.95), rgba(139, 92, 246, 0.95));
    }

    .gamesScreen{flex:1; overflow:auto; padding:14px 16px 18px}

    /* Games grid layout */
    .gamesGrid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin-top: 16px;
    }

    /* Each game card */
    .gameCard {
      border-radius: 24px;
      overflow: hidden;
      background: var(--card);
      border: 1px solid rgba(255, 255, 255, 0.45);
      box-shadow: 0 12px 32px rgba(17, 24, 39, 0.12);
      transition: all 0.3s ease;
      position: relative;
    }

    .gameCard:hover {
      transform: translateY(-4px);
      box-shadow: 0 18px 42px rgba(17, 24, 39, 0.18);
    }

    .gameCard__header {
      padding: 20px 20px 16px;
      position: relative;
      overflow: hidden;
    }

    .gameCard__title {
      font-size: 20px;
      font-weight: 950;
      margin: 0 0 8px;
      color: var(--text);
      letter-spacing: 0.2px;
    }

    .gameCard__subtitle {
      font-size: 13px;
      color: var(--muted);
      line-height: 1.4;
      margin: 0;
    }

    .gameCard__icon {
      position: absolute;
      top: 16px;
      right: 16px;
      font-size: 32px;
      opacity: 0.15;
    }

    /* Game 1: Tic-Tac-Toe - Heart vs Rose theme */
    .gameCard--tictactoe .gameCard__header {
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.12), rgba(139, 92, 246, 0.08));
    }

    .gameCard--tictactoe .gameCard__icon {
      color: #ec4899;
    }

    .gameCard__content {
      padding: 0 20px 20px;
    }

    .t3Grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      margin: 12px 0;
    }

    .t3Cell {
      aspect-ratio: 1/1;
      border-radius: 16px;
      border: 2px solid rgba(236, 72, 153, 0.3);
      background: rgba(255, 255, 255, 0.7);
      font-size: 36px;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .t3Cell:hover:not(:disabled) {
      background: rgba(255, 255, 255, 0.9);
      border-color: rgba(236, 72, 153, 0.6);
      transform: scale(1.05);
    }

    .t3Cell:disabled {
      cursor: not-allowed;
      opacity: 0.9;
    }

    .t3Cell.heart { color: #ec4899; text-shadow: 0 2px 8px rgba(236, 72, 153, 0.3); }
    .t3Cell.rose { color: #8b5cf6; text-shadow: 0 2px 8px rgba(139, 92, 246, 0.3); }

    .gameControls {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 16px;
    }

    .gameControls.center {
      justify-content: center;
      gap: 10px;
    }

    .gameStatus {
      font-weight: 900;
      font-size: 14px;
      color: var(--text);
      padding: 10px 16px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(17, 24, 39, 0.1);
      min-width: 140px;
      text-align: center;
    }

    .gameStatus.heart-turn { color: #ec4899; border-color: rgba(236, 72, 153, 0.3); }
    .gameStatus.rose-turn { color: #8b5cf6; border-color: rgba(139, 92, 246, 0.3); }

    .btn-game {
      padding: 10px 20px;
      border-radius: 14px;
      border: 0;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color: white;
      font-weight: 900;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    .btn-game:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(236, 72, 153, 0.3);
    }

    .btn-game.secondary {
      background: rgba(17, 24, 39, 0.1);
      color: var(--text);
    }

    /* Game 2: Love Memory Match */
    .gameCard--memory .gameCard__header {
      background: linear-gradient(135deg, rgba(255, 182, 193, 0.15), rgba(255, 105, 180, 0.1));
    }

    .gameCard--memory .gameCard__icon {
      color: #ff69b4;
    }

    .memoryGrid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 12px 0;
    }

    .memoryCard {
      aspect-ratio: 1/1;
      border-radius: 14px;
      background: linear-gradient(135deg, rgba(255, 182, 193, 0.3), rgba(255, 105, 180, 0.2));
      border: 2px solid rgba(255, 255, 255, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      cursor: pointer;
      transition: all 0.3s ease;
      transform-style: preserve-3d;
      position: relative;
    }

    .memoryCard.flipped {
      background: rgba(255, 255, 255, 0.9);
      border-color: rgba(236, 72, 153, 0.4);
      transform: rotateY(180deg);
    }

    .memoryCard.matched {
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.3), rgba(139, 92, 246, 0.3));
      border-color: rgba(236, 72, 153, 0.6);
      cursor: default;
    }

    .memoryCard__front,
    .memoryCard__back {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 12px;
    }

    .memoryCard__front {
      background: linear-gradient(135deg, rgba(255, 182, 193, 0.3), rgba(255, 105, 180, 0.2));
      color: rgba(17, 24, 39, 0.7);
      font-size: 20px;
      font-weight: 900;
    }

    .memoryCard__back {
      background: rgba(255, 255, 255, 0.95);
      transform: rotateY(180deg);
      font-size: 26px;
    }

    /* NEW GAME: Pac-Man Love Edition */
    .gameCard--pacman .gameCard__header {
      background: linear-gradient(135deg, rgba(255, 204, 0, 0.15), rgba(255, 153, 0, 0.1));
    }
    .gameCard--pacman .gameCard__icon {
      color: #ffcc00;
    }

    /* NEW GAME: Love Minesweeper */
    .gameCard--minesweeper .gameCard__header {
      background: linear-gradient(135deg, rgba(0, 128, 0, 0.15), rgba(0, 100, 0, 0.1));
    }
    .gameCard--minesweeper .gameCard__icon {
      color: #008000;
    }

    /* NEW GAME: Heart Block Breaker */
    .gameCard--breaker .gameCard__header {
      background: linear-gradient(135deg, rgba(255, 0, 0, 0.15), rgba(200, 0, 0, 0.1));
    }
    .gameCard--breaker .gameCard__icon {
      color: #ff0000;
    }

    /* Heart Tap Challenge (keeping this one) */
    .gameCard--tap .gameCard__header {
      background: linear-gradient(135deg, rgba(255, 50, 50, 0.12), rgba(255, 100, 100, 0.08));
    }

    .gameCard--tap .gameCard__icon {
      color: #ff3232;
    }

    .tapArea {
      height: 180px;
      border-radius: 20px;
      background: linear-gradient(135deg, rgba(255, 182, 193, 0.2), rgba(255, 105, 180, 0.15));
      border: 2px dashed rgba(236, 72, 153, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 16px 0;
      cursor: pointer;
      transition: all 0.2s ease;
      position: relative;
      overflow: hidden;
    }

    .tapArea.active {
      background: linear-gradient(135deg, rgba(255, 182, 193, 0.3), rgba(255, 105, 180, 0.25));
      border-color: rgba(236, 72, 153, 0.6);
    }

    .tapArea:hover {
      transform: scale(1.02);
    }

    .tapHeart {
      font-size: 64px;
      animation: pulse 1.5s infinite;
      cursor: pointer;
      user-select: none;
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }

    .tapStats {
      display: flex;
      justify-content: space-around;
      margin: 16px 0;
    }

    /* Common animations */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Romantic touches */
    .romanticNote {
      text-align: center;
      margin: 24px 0 16px;
      padding: 16px;
      border-radius: 18px;
      background: linear-gradient(135deg, rgba(255, 182, 193, 0.15), rgba(255, 105, 180, 0.1));
      border: 1px solid rgba(255, 255, 255, 0.4);
      position: relative;
      overflow: hidden;
    }

    .romanticNote:before {
      content: 'üíñ';
      position: absolute;
      top: -10px;
      right: -10px;
      font-size: 40px;
      opacity: 0.1;
    }

    .romanticNote p {
      margin: 0;
      font-weight: 800;
      color: var(--text);
      line-height: 1.5;
    }

    .romanticNote small {
      display: block;
      margin-top: 8px;
      font-size: 12px;
      color: var(--muted);
      font-weight: 700;
    }

    /* Score display */
    .scoreDisplay {
      display: flex;
      justify-content: space-around;
      margin: 16px 0;
      padding: 12px;
      border-radius: 18px;
      background: rgba(255, 255, 255, 0.6);
      border: 1px solid rgba(17, 24, 39, 0.1);
    }

    .scoreItem {
      text-align: center;
    }

    .scoreLabel {
      font-size: 12px;
      font-weight: 800;
      color: var(--muted);
      margin-bottom: 4px;
    }

    .scoreValue {
      font-size: 24px;
      font-weight: 950;
      color: var(--text);
    }

    .scoreValue.heart { color: #ec4899; }
    .scoreValue.rose { color: #8b5cf6; }
  </style>
</head>
<body>
  <main class="app" aria-label="Games">
    <div class="gamesPhone" role="application" aria-label="Games for Us">
      <div class="bgParticles" id="bgParticles" aria-hidden="true"></div>

      <nav class="gallery-nav" aria-label="Main navigation">
        <a href="gallery.html" class="gallery-nav__link">Gallery</a>
        <a href="games.html" class="gallery-nav__link is-active">Games</a>
        <a href="message.html" class="gallery-nav__link">Message</a>
      </nav>

      <section class="gamesScreen">
        <div class="romanticNote">
          <p>Every game we play is another memory we make. ‚ù§Ô∏è</p>
          <small>For Reine & Rodolph - Where love always wins</small>
        </div>

        <div class="gamesGrid">
          <!-- Game 1: Romantic Tic-Tac-Toe -->
          <article class="gameCard gameCard--tictactoe floatA">
            <div class="gameCard__header">
              <h3 class="gameCard__title">Romantic Tic-Tac-Toe</h3>
              <p class="gameCard__subtitle">‚ù§Ô∏è Heart vs üåπ Rose - Our eternal battle</p>
              <div class="gameCard__icon">‚ù§Ô∏è</div>
            </div>
            <div class="gameCard__content">
              <div class="scoreDisplay">
                <div class="scoreItem">
                  <div class="scoreLabel">‚ù§Ô∏è Heart</div>
                  <div class="scoreValue heart" id="heartScore">0</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">üåπ Rose</div>
                  <div class="scoreValue rose" id="roseScore">0</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Draws</div>
                  <div class="scoreValue" id="drawScore">0</div>
                </div>
              </div>
              
              <div class="gameStatus heart-turn" id="t3Status">‚ù§Ô∏è Your turn, my love</div>
              <div class="t3Grid" id="t3Grid"></div>
              <div class="gameControls">
                <button class="btn-game" id="t3Reset" type="button">New Game</button>
                <button class="btn-game secondary" id="t3Undo" type="button">Undo</button>
              </div>
            </div>
          </article>

          <!-- Game 2: Love Memory Match -->
          <article class="gameCard gameCard--memory floatB">
            <div class="gameCard__header">
              <h3 class="gameCard__title">Love Memory Match</h3>
              <p class="gameCard__subtitle">Find matching pairs of our love symbols</p>
              <div class="gameCard__icon">üíû</div>
            </div>
            <div class="gameCard__content">
              <div class="gameStatus" id="memoryStatus">Find all matching pairs</div>
              <div class="memoryGrid" id="memoryGrid"></div>
              <div class="gameControls center">
                <button class="btn-game" id="memoryReset" type="button">Start New Game</button>
              </div>
            </div>
          </article>

          <!-- NEW GAME 3: Pac-Man Love Edition -->
          <article class="gameCard gameCard--pacman floatC">
            <div class="gameCard__header">
              <h3 class="gameCard__title">Pac-Man Love Edition</h3>
              <p class="gameCard__subtitle">Eat all the hearts and avoid the ghosts!</p>
              <div class="gameCard__icon">üëª</div>
            </div>
            <div class="gameCard__content">
              <div class="gameStatus" id="pacmanStatus">Use arrow keys to move!</div>
              <div class="pacman-grid" id="pacmanGrid" style="display: grid; grid-template-columns: repeat(10, 1fr); gap: 4px; margin: 16px 0; height: 300px; background: rgba(0,0,0,0.1); border-radius: 12px; padding: 10px;">
                <!-- Grid will be populated by JavaScript -->
              </div>
              <div class="scoreDisplay" style="margin: 16px 0;">
                <div class="scoreItem">
                  <div class="scoreLabel">Score</div>
                  <div class="scoreValue" id="pacmanScore">0</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Lives</div>
                  <div class="scoreValue" id="pacmanLives">3</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Hearts</div>
                  <div class="scoreValue" id="pacmanHearts">20</div>
                </div>
              </div>
              <div class="gameControls center">
                <button class="btn-game" id="pacmanStart" type="button">Start Game</button>
                <button class="btn-game secondary" id="pacmanReset" type="button">Reset</button>
              </div>
            </div>
          </article>

          <!-- NEW GAME 4: Love Minesweeper -->
          <article class="gameCard gameCard--minesweeper floatA">
            <div class="gameCard__header">
              <h3 class="gameCard__title">Love Minesweeper üí£</h3>
              <p class="gameCard__subtitle">Find all the hearts, avoid the bombs!</p>
              <div class="gameCard__icon">üí£</div>
            </div>
            <div class="gameCard__content">
              <div class="gameStatus" id="minesweeperStatus">Click to reveal hearts, avoid bombs!</div>
              <div class="minesweeper-grid" id="minesweeperGrid" style="display: grid; grid-template-columns: repeat(8, 1fr); gap: 4px; margin: 16px 0; height: 300px;">
                <!-- Grid will be populated by JavaScript -->
              </div>
              <div class="scoreDisplay" style="margin: 16px 0;">
                <div class="scoreItem">
                  <div class="scoreLabel">Hearts Left</div>
                  <div class="scoreValue" id="minesHearts">10</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Bombs</div>
                  <div class="scoreValue" id="minesBombs">10</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Time</div>
                  <div class="scoreValue" id="minesTime">0s</div>
                </div>
              </div>
              <div class="gameControls center">
                <button class="btn-game" id="minesStart" type="button">New Game</button>
                <button class="btn-game secondary" id="minesHint" type="button">Hint</button>
              </div>
            </div>
          </article>

          <!-- NEW GAME 5: Heart Block Breaker -->
          <article class="gameCard gameCard--breaker floatB">
            <div class="gameCard__header">
              <h3 class="gameCard__title">Heart Block Breaker ‚ù§Ô∏è</h3>
              <p class="gameCard__subtitle">Break blocks with a bouncing heart!</p>
              <div class="gameCard__icon">üí•</div>
            </div>
            <div class="gameCard__content">
              <div class="gameStatus" id="breakerStatus">Move paddle with mouse/touch!</div>
              <canvas id="breakerCanvas" width="300" height="400" style="width: 100%; height: 300px; background: rgba(236,72,153,0.1); border-radius: 12px; margin: 16px 0;"></canvas>
              <div class="scoreDisplay" style="margin: 16px 0;">
                <div class="scoreItem">
                  <div class="scoreLabel">Score</div>
                  <div class="scoreValue" id="breakerScore">0</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Lives</div>
                  <div class="scoreValue" id="breakerLives">3</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Level</div>
                  <div class="scoreValue" id="breakerLevel">1</div>
                </div>
              </div>
              <div class="gameControls center">
                <button class="btn-game" id="breakerStart" type="button">Start Game</button>
                <button class="btn-game secondary" id="breakerPause" type="button">Pause</button>
              </div>
            </div>
          </article>

          <!-- Game 6: Heart Tap Challenge -->
          <article class="gameCard gameCard--tap floatC">
            <div class="gameCard__header">
              <h3 class="gameCard__title">Heart Tap Challenge üíñ</h3>
              <p class="gameCard__subtitle">How fast can you tap love?</p>
              <div class="gameCard__icon">üíñ</div>
            </div>
            <div class="gameCard__content">
              <div class="tapStats">
                <div class="scoreItem">
                  <div class="scoreLabel">Score</div>
                  <div class="scoreValue" id="tapScore">0</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Time</div>
                  <div class="scoreValue" id="tapTime">30s</div>
                </div>
                <div class="scoreItem">
                  <div class="scoreLabel">Best</div>
                  <div class="scoreValue" id="tapBest">0</div>
                </div>
              </div>
              
              <div class="tapArea" id="tapArea">
                <div class="tapHeart" id="tapHeart">‚ù§Ô∏è</div>
              </div>
              
              <div class="gameStatus" id="tapStatus">Ready to tap some love?</div>
              <div class="gameControls center">
                <button class="btn-game" id="tapStart" type="button">Start Challenge</button>
              </div>
            </div>
          </article>

        </div>

        <div class="romanticNote" style="margin-top: 20px;">
          <p>"In every game, in every play, my love for you grows stronger every day."</p>
          <small>Forever yours, Rodolph ‚ù§Ô∏è</small>
        </div>
      </section>
    </div>
  </main>

  <script>
    // Ensure page starts at top
    window.scrollTo(0, 0);
    document.documentElement.scrollTop = 0;

    // Background particles with enhanced emojis
    (() => {
      function spawnBgParticle() {
        const bgParticles = document.getElementById('bgParticles');
        if (!bgParticles) return;
        if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

        const el = document.createElement('span');
        el.className = 'bgParticle';

        // Enhanced emoji selection with more variety
        const heartEmojis = ['‚ù§Ô∏è', 'üíô', 'üñ§', '‚ù£Ô∏è', 'üíï', 'üíû', 'üíì', 'üíó', 'üíñ', 'üíò', 'üíù', 'üíü', '‚ô•Ô∏è', 'üî•', 'üíå'];
        const roseEmojis = ['üåπ', 'üå∏', 'üíê', 'üå∫', 'üå∑', 'üåº'];
        const allEmojis = [...heartEmojis, ...roseEmojis];
        
        
        const pick = Math.random();
        el.textContent = allEmojis[Math.floor(Math.random() * allEmojis.length)];

        const x = Math.random() * 100;
        const size = 14 + Math.random() * 20;
        const dur = 5.5 + Math.random() * 5.5;
        const drift = (-16 + Math.random() * 32).toFixed(2) + 'px';
        const rot = (-18 + Math.random() * 36).toFixed(2) + 'deg';

        el.style.setProperty('--x', x.toFixed(2) + '%');
        el.style.setProperty('--size', size.toFixed(0) + 'px');
        el.style.setProperty('--dur', dur.toFixed(2) + 's');
        el.style.setProperty('--drift', drift);
        el.style.setProperty('--rot', rot);

        bgParticles.appendChild(el);

        window.setTimeout(() => {
          el.remove();
        }, Math.ceil(dur * 1000) + 200);
      }

      function startParticles() {
        const bgParticles = document.getElementById('bgParticles');
        if (!bgParticles) return;
        for (let i = 0; i < 8; i++) spawnBgParticle();
        window.setInterval(spawnBgParticle, 420);
      }

      startParticles();
    })();

    // Game 1: Romantic Tic-Tac-Toe
    (() => {
      const t3Grid = document.getElementById('t3Grid');
      const t3Status = document.getElementById('t3Status');
      const t3Reset = document.getElementById('t3Reset');
      const t3Undo = document.getElementById('t3Undo');
      const heartScoreEl = document.getElementById('heartScore');
      const roseScoreEl = document.getElementById('roseScore');
      const drawScoreEl = document.getElementById('drawScore');

      let t3 = Array(9).fill('');
      let turn = '‚ù§Ô∏è';
      let over = false;
      let moveHistory = [];
      let scores = { heart: 0, rose: 0, draw: 0 };

      function updateScores() {
        heartScoreEl.textContent = scores.heart;
        roseScoreEl.textContent = scores.rose;
        drawScoreEl.textContent = scores.draw;
      }

      function t3Winner() {
        const w = [
          [0,1,2],[3,4,5],[6,7,8],
          [0,3,6],[1,4,7],[2,5,8],
          [0,4,8],[2,4,6]
        ];
        for(const [a,b,c] of w) {
          if(t3[a] && t3[a] === t3[b] && t3[a] === t3[c]) return t3[a];
        }
        if(t3.every(x => x)) return 'draw';
        return null;
      }

      function t3Render() {
        t3Grid.innerHTML = '';
        for(let i = 0; i < 9; i++) {
          const btn = document.createElement('button');
          btn.type = 'button';
          btn.className = `t3Cell ${t3[i] === '‚ù§Ô∏è' ? 'heart' : t3[i] === 'üåπ' ? 'rose' : ''}`;
          btn.textContent = t3[i] || '';
          btn.disabled = over || t3[i];
          
          btn.addEventListener('click', () => {
            if(over || t3[i]) return;
            
            moveHistory.push([...t3]);
            t3[i] = turn;
            const win = t3Winner();
            
            if(win) {
              over = true;
              if(win === '‚ù§Ô∏è') {
                scores.heart++;
                t3Status.textContent = '‚ù§Ô∏è Heart wins! My love conquers all!';
                t3Status.className = 'gameStatus heart-turn';
              } else if(win === 'üåπ') {
                scores.rose++;
                t3Status.textContent = 'üåπ Rose wins! Beautiful like you!';
                t3Status.className = 'gameStatus rose-turn';
              } else {
                scores.draw++;
                t3Status.textContent = 'Draw! Our love is perfectly balanced ‚ù§Ô∏èüåπ';
                t3Status.className = 'gameStatus';
              }
              updateScores();
            } else {
              turn = turn === '‚ù§Ô∏è' ? 'üåπ' : '‚ù§Ô∏è';
              t3Status.textContent = turn === '‚ù§Ô∏è' ? '‚ù§Ô∏è Your turn, my heart' : 'üåπ Your turn, beautiful rose';
              t3Status.className = turn === '‚ù§Ô∏è' ? 'gameStatus heart-turn' : 'gameStatus rose-turn';
            }
            t3Render();
          });
          t3Grid.appendChild(btn);
        }
      }

      t3Reset.addEventListener('click', () => {
        t3 = Array(9).fill('');
        turn = '‚ù§Ô∏è';
        over = false;
        moveHistory = [];
        t3Status.textContent = '‚ù§Ô∏è Your turn, my love';
        t3Status.className = 'gameStatus heart-turn';
        t3Render();
      });

      t3Undo.addEventListener('click', () => {
        if(moveHistory.length > 0) {
          t3 = moveHistory.pop();
          turn = turn === '‚ù§Ô∏è' ? 'üåπ' : '‚ù§Ô∏è';
          over = false;
          t3Status.textContent = turn === '‚ù§Ô∏è' ? '‚ù§Ô∏è Your turn (undone)' : 'üåπ Your turn (undone)';
          t3Status.className = turn === '‚ù§Ô∏è' ? 'gameStatus heart-turn' : 'gameStatus rose-turn';
          t3Render();
        }
      });

      t3Render();
      updateScores();
    })();

    // Game 2: Love Memory Match
    (() => {
      const memoryGrid = document.getElementById('memoryGrid');
      const memoryStatus = document.getElementById('memoryStatus');
      const memoryReset = document.getElementById('memoryReset');

      const symbols = ['‚ù§Ô∏è', 'üåπ', 'üíï', 'üíñ', 'üíò', 'üíù', 'üíû', 'üíó'];
      let cards = [...symbols, ...symbols];
      let flippedCards = [];
      let matchedCards = [];
      let canFlip = true;

      function shuffle(array) {
        for(let i = array.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
      }

      function createMemoryGame() {
        memoryGrid.innerHTML = '';
        flippedCards = [];
        matchedCards = [];
        canFlip = true;
        cards = shuffle([...symbols, ...symbols]);
        
        cards.forEach((symbol, index) => {
          const card = document.createElement('div');
          card.className = 'memoryCard';
          card.dataset.index = index;
          card.dataset.symbol = symbol;
          
          const front = document.createElement('div');
          front.className = 'memoryCard__front';
          front.textContent = '?';
          
          const back = document.createElement('div');
          back.className = 'memoryCard__back';
          back.textContent = symbol;
          
          card.appendChild(front);
          card.appendChild(back);
          
          card.addEventListener('click', () => flipCard(card));
          memoryGrid.appendChild(card);
        });
        
        memoryStatus.textContent = 'Find matching pairs of love';
      }

      function flipCard(card) {
        if(!canFlip || card.classList.contains('flipped') || card.classList.contains('matched')) return;
        
        card.classList.add('flipped');
        flippedCards.push(card);
        
        if(flippedCards.length === 2) {
          canFlip = false;
          const [card1, card2] = flippedCards;
          
          if(card1.dataset.symbol === card2.dataset.symbol) {
            card1.classList.add('matched');
            card2.classList.add('matched');
            matchedCards.push(card1, card2);
            memoryStatus.textContent = `Perfect match! ${card1.dataset.symbol} ${card2.dataset.symbol}`;
            
            setTimeout(() => {
              flippedCards = [];
              canFlip = true;
              
              if(matchedCards.length === cards.length) {
                memoryStatus.textContent = 'You found all the love! ‚ù§Ô∏è Perfect match!';
                setTimeout(() => {
                  createMemoryGame();
                }, 2000);
              }
            }, 800);
          } else {
            memoryStatus.textContent = 'Not a match, but our love always is ‚ù§Ô∏è';
            setTimeout(() => {
              card1.classList.remove('flipped');
              card2.classList.remove('flipped');
              flippedCards = [];
              canFlip = true;
            }, 1000);
          }
        } else {
          memoryStatus.textContent = `Pick another card to match ${flippedCards[0].dataset.symbol}`;
        }
      }

      memoryReset.addEventListener('click', createMemoryGame);
      createMemoryGame();
    })();

    // NEW GAME 3: Pac-Man Love Edition
    (() => {
      const grid = document.getElementById('pacmanGrid');
      const status = document.getElementById('pacmanStatus');
      const scoreEl = document.getElementById('pacmanScore');
      const livesEl = document.getElementById('pacmanLives');
      const heartsEl = document.getElementById('pacmanHearts');
      const startBtn = document.getElementById('pacmanStart');
      const resetBtn = document.getElementById('pacmanReset');
      
      let pacman = { x: 5, y: 5 };
      let ghosts = [{ x: 2, y: 2 }, { x: 8, y: 2 }, { x: 2, y: 8 }, { x: 8, y: 8 }];
      let hearts = [];
      let score = 0;
      let lives = 3;
      let gameActive = false;
      
      function initGame() {
        // Create 10x10 grid
        grid.innerHTML = '';
        hearts = [];
        
        for(let y = 0; y < 10; y++) {
          for(let x = 0; x < 10; x++) {
            const cell = document.createElement('div');
            cell.className = 'pacman-cell';
            cell.dataset.x = x;
            cell.dataset.y = y;
            grid.appendChild(cell);
            
            // Add hearts randomly (except pacman position)
            if(Math.random() > 0.7 && !(x === pacman.x && y === pacman.y)) {
              hearts.push({ x, y });
            }
          }
        }
        updateDisplay();
      }
      
      function updateDisplay() {
        const cells = grid.querySelectorAll('.pacman-cell');
        cells.forEach(cell => {
          const x = parseInt(cell.dataset.x);
          const y = parseInt(cell.dataset.y);
          
          cell.innerHTML = '';
          
          // Draw pacman
          if(x === pacman.x && y === pacman.y) {
            cell.innerHTML = 'üòä';
            cell.style.background = '#ffcc00';
          }
          // Draw ghosts
          else if(ghosts.some(g => g.x === x && g.y === y)) {
            cell.innerHTML = 'üëª';
            cell.style.background = '#9966ff';
          }
          // Draw hearts
          else if(hearts.some(h => h.x === x && h.y === y)) {
            cell.innerHTML = '‚ù§Ô∏è';
            cell.style.background = '#ff9999';
          }
          else {
            cell.style.background = 'rgba(255,255,255,0.8)';
          }
        });
        
        scoreEl.textContent = score;
        livesEl.textContent = lives;
        heartsEl.textContent = hearts.length;
      }
      
      function movePacman(dx, dy) {
        if(!gameActive) return;
        
        pacman.x = Math.max(0, Math.min(9, pacman.x + dx));
        pacman.y = Math.max(0, Math.min(9, pacman.y + dy));
        
        // Check for heart collection
        hearts = hearts.filter(h => !(h.x === pacman.x && h.y === pacman.y));
        if(hearts.length === 0) {
          status.textContent = 'All hearts collected! You win! ‚ù§Ô∏è';
          gameActive = false;
        }
        
        // Check ghost collision
        if(ghosts.some(g => g.x === pacman.x && g.y === pacman.y)) {
          lives--;
          if(lives <= 0) {
            status.textContent = 'Game Over! üíî';
            gameActive = false;
          } else {
            status.textContent = 'Hit by a ghost! Lives: ' + lives;
            pacman = { x: 5, y: 5 };
          }
        }
        
        updateDisplay();
      }
      
      // Keyboard controls
      document.addEventListener('keydown', (e) => {
        if(!gameActive) return;
        switch(e.key) {
          case 'ArrowUp': movePacman(0, -1); break;
          case 'ArrowDown': movePacman(0, 1); break;
          case 'ArrowLeft': movePacman(-1, 0); break;
          case 'ArrowRight': movePacman(1, 0); break;
        }
      });
      
      startBtn.addEventListener('click', () => {
        gameActive = true;
        score = 0;
        lives = 3;
        pacman = { x: 5, y: 5 };
        initGame();
        status.textContent = 'Game started! Use arrow keys!';
      });
      
      resetBtn.addEventListener('click', () => {
        gameActive = false;
        initGame();
        status.textContent = 'Ready to play! Click Start.';
      });
      
      // Initialize
      initGame();
    })();

    // NEW GAME 4: Love Minesweeper
    (() => {
      const grid = document.getElementById('minesweeperGrid');
      const status = document.getElementById('minesweeperStatus');
      const heartsEl = document.getElementById('minesHearts');
      const bombsEl = document.getElementById('minesBombs');
      const timeEl = document.getElementById('minesTime');
      const startBtn = document.getElementById('minesStart');
      const hintBtn = document.getElementById('minesHint');
      
      let board = [];
      let revealed = [];
      let gameActive = false;
      let startTime = 0;
      let timer;
      
      function createBoard() {
        board = [];
        revealed = [];
        
        // Create 8x8 board with 10 hearts and 10 bombs
        for(let y = 0; y < 8; y++) {
          board[y] = [];
          revealed[y] = [];
          for(let x = 0; x < 8; x++) {
            // Randomly assign hearts (20% chance) and bombs (20% chance)
            const rand = Math.random();
            if(rand < 0.2) board[y][x] = '‚ù§Ô∏è';
            else if(rand < 0.4) board[y][x] = 'üí£';
            else board[y][x] = '';
            revealed[y][x] = false;
          }
        }
        
        updateBoard();
        updateCounts();
      }
      
      function updateBoard() {
        grid.innerHTML = '';
        
        for(let y = 0; y < 8; y++) {
          for(let x = 0; x < 8; x++) {
            const cell = document.createElement('div');
            cell.className = 'minesweeper-cell';
            cell.dataset.x = x;
            cell.dataset.y = y;
            
            if(revealed[y][x]) {
              cell.textContent = board[y][x];
              cell.style.background = board[y][x] === 'üí£' ? '#ff6666' : '#99ff99';
            } else {
              cell.textContent = '?';
              cell.style.background = 'rgba(255,255,255,0.9)';
              cell.addEventListener('click', () => revealCell(x, y));
            }
            
            grid.appendChild(cell);
          }
        }
      }
      
      function revealCell(x, y) {
        if(!gameActive || revealed[y][x]) return;
        
        revealed[y][x] = true;
        
        if(board[y][x] === 'üí£') {
          status.textContent = 'Boom! Game Over! üí£';
          gameActive = false;
          clearInterval(timer);
          revealAll();
        } else if(board[y][x] === '‚ù§Ô∏è') {
          status.textContent = 'Heart found! ‚ù§Ô∏è';
        } else {
          status.textContent = 'Safe! Keep going!';
        }
        
        updateBoard();
        updateCounts();
        checkWin();
      }
      
      function updateCounts() {
        let hearts = 0, bombs = 0;
        
        for(let y = 0; y < 8; y++) {
          for(let x = 0; x < 8; x++) {
            if(board[y][x] === '‚ù§Ô∏è' && !revealed[y][x]) hearts++;
            if(board[y][x] === 'üí£') bombs++;
          }
        }
        
        heartsEl.textContent = hearts;
        bombsEl.textContent = bombs;
      }
      
      function checkWin() {
        let allHeartsFound = true;
        
        for(let y = 0; y < 8; y++) {
          for(let x = 0; x < 8; x++) {
            if(board[y][x] === '‚ù§Ô∏è' && !revealed[y][x]) {
              allHeartsFound = false;
              break;
            }
          }
        }
        
        if(allHeartsFound) {
          status.textContent = 'All hearts found! You win! üéâ';
          gameActive = false;
          clearInterval(timer);
        }
      }
      
      function revealAll() {
        for(let y = 0; y < 8; y++) {
          for(let x = 0; x < 8; x++) {
            revealed[y][x] = true;
          }
        }
        updateBoard();
      }
      
      function startTimer() {
        startTime = Date.now();
        clearInterval(timer);
        timer = setInterval(() => {
          const elapsed = Math.floor((Date.now() - startTime) / 1000);
          timeEl.textContent = elapsed + 's';
        }, 1000);
      }
      
      startBtn.addEventListener('click', () => {
        gameActive = true;
        createBoard();
        startTimer();
        status.textContent = 'Game started! Click cells to find hearts!';
      });
      
      hintBtn.addEventListener('click', () => {
        if(!gameActive) return;
        // Reveal one random safe cell
        let safeCells = [];
        for(let y = 0; y < 8; y++) {
          for(let x = 0; x < 8; x++) {
            if(!revealed[y][x] && board[y][x] !== 'üí£') {
              safeCells.push({x, y});
            }
          }
        }
        if(safeCells.length > 0) {
          const hint = safeCells[Math.floor(Math.random() * safeCells.length)];
          revealCell(hint.x, hint.y);
        }
      });
      
      // Initialize
      createBoard();
    })();

    // NEW GAME 5: Heart Block Breaker
    (() => {
      const canvas = document.getElementById('breakerCanvas');
      const ctx = canvas.getContext('2d');
      const status = document.getElementById('breakerStatus');
      const scoreEl = document.getElementById('breakerScore');
      const livesEl = document.getElementById('breakerLives');
      const levelEl = document.getElementById('breakerLevel');
      const startBtn = document.getElementById('breakerStart');
      const pauseBtn = document.getElementById('breakerPause');
      
      let gameRunning = false;
      let paused = false;
      let score = 0;
      let lives = 3;
      let level = 1;
      
      // Game objects
      let paddle = { x: canvas.width/2 - 40, y: canvas.height - 20, width: 80, height: 10 };
      let heart = { x: canvas.width/2, y: canvas.height/2, dx: 3, dy: -3, radius: 8 };
      let blocks = [];
      
      function createBlocks() {
        blocks = [];
        const rows = 3 + level;
        const cols = 6;
        const blockWidth = canvas.width / cols - 10;
        const blockHeight = 20;
        
        for(let i = 0; i < rows; i++) {
          for(let j = 0; j < cols; j++) {
            blocks.push({
              x: j * (blockWidth + 10) + 5,
              y: i * (blockHeight + 5) + 30,
              width: blockWidth,
              height: blockHeight,
              color: `hsl(${i * 60}, 70%, 60%)`
            });
          }
        }
      }
      
      function draw() {
        // Clear canvas
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        // Draw paddle
        ctx.fillStyle = '#ec4899';
        ctx.fillRect(paddle.x, paddle.y, paddle.width, paddle.height);
        ctx.strokeStyle = '#fff';
        ctx.lineWidth = 2;
        ctx.strokeRect(paddle.x, paddle.y, paddle.width, paddle.height);
        
        // Draw heart
        ctx.fillStyle = '#ff3232';
        ctx.beginPath();
        ctx.arc(heart.x, heart.y, heart.radius, 0, Math.PI * 2);
        ctx.fill();
        ctx.fillStyle = '#fff';
        ctx.font = '12px Arial';
        ctx.fillText('‚ù§Ô∏è', heart.x - 6, heart.y + 4);
        
        // Draw blocks
        blocks.forEach(block => {
          ctx.fillStyle = block.color;
          ctx.fillRect(block.x, block.y, block.width, block.height);
          ctx.strokeStyle = '#fff';
          ctx.lineWidth = 1;
          ctx.strokeRect(block.x, block.y, block.width, block.height);
        });
        
        // Draw score
        ctx.fillStyle = '#111827';
        ctx.font = '14px Arial';
        ctx.fillText(`Score: ${score}`, 10, 20);
        ctx.fillText(`Lives: ${lives}`, canvas.width - 70, 20);
      }
      
      function update() {
        if(paused || !gameRunning) return;
        
        // Move heart
        heart.x += heart.dx;
        heart.y += heart.dy;
        
        // Wall collision
        if(heart.x - heart.radius < 0 || heart.x + heart.radius > canvas.width) {
          heart.dx = -heart.dx;
        }
        if(heart.y - heart.radius < 0) {
          heart.dy = -heart.dy;
        }
        
        // Bottom wall (lose life)
        if(heart.y + heart.radius > canvas.height) {
          lives--;
          if(lives <= 0) {
            gameRunning = false;
            status.textContent = 'Game Over! üíî';
          } else {
            resetHeart();
            status.textContent = `Life lost! ${lives} remaining`;
          }
        }
        
        // Paddle collision
        if(heart.y + heart.radius > paddle.y && 
           heart.y - heart.radius < paddle.y + paddle.height &&
           heart.x > paddle.x && heart.x < paddle.x + paddle.width) {
          heart.dy = -Math.abs(heart.dy);
          // Change angle based on where it hits the paddle
          const hitPos = (heart.x - paddle.x) / paddle.width;
          heart.dx = 5 * (hitPos - 0.5);
        }
        
        // Block collision
        for(let i = blocks.length - 1; i >= 0; i--) {
          const block = blocks[i];
          
          if(heart.x + heart.radius > block.x && 
             heart.x - heart.radius < block.x + block.width &&
             heart.y + heart.radius > block.y && 
             heart.y - heart.radius < block.y + block.height) {
            
            blocks.splice(i, 1);
            heart.dy = -heart.dy;
            score += 10;
            
            if(blocks.length === 0) {
              level++;
              levelEl.textContent = level;
              createBlocks();
              resetHeart();
              heart.dx *= 1.1;
              heart.dy *= 1.1;
              status.textContent = `Level ${level}! Speed increased!`;
            }
            
            break;
          }
        }
        
        // Update display
        scoreEl.textContent = score;
        livesEl.textContent = lives;
        
        draw();
      }
      
      function resetHeart() {
        heart.x = canvas.width/2;
        heart.y = canvas.height/2;
        heart.dx = 3;
        heart.dy = -3;
      }
      
      // Mouse/touch controls
      canvas.addEventListener('mousemove', (e) => {
        if(!gameRunning) return;
        const rect = canvas.getBoundingClientRect();
        paddle.x = e.clientX - rect.left - paddle.width/2;
        paddle.x = Math.max(0, Math.min(canvas.width - paddle.width, paddle.x));
      });
      
      canvas.addEventListener('touchmove', (e) => {
        if(!gameRunning) return;
        e.preventDefault();
        const rect = canvas.getBoundingClientRect();
        const touch = e.touches[0];
        paddle.x = touch.clientX - rect.left - paddle.width/2;
        paddle.x = Math.max(0, Math.min(canvas.width - paddle.width, paddle.x));
      }, { passive: false });
      
      startBtn.addEventListener('click', () => {
        if(!gameRunning) {
          gameRunning = true;
          paused = false;
          score = 0;
          lives = 3;
          level = 1;
          createBlocks();
          resetHeart();
          status.textContent = 'Game started! Move paddle with mouse/touch';
          pauseBtn.textContent = 'Pause';
          gameLoop();
        }
      });
      
      pauseBtn.addEventListener('click', () => {
        if(gameRunning) {
          paused = !paused;
          pauseBtn.textContent = paused ? 'Resume' : 'Pause';
          status.textContent = paused ? 'Game Paused' : 'Game resumed!';
        }
      });
      
      function gameLoop() {
        update();
        if(gameRunning && !paused) {
          requestAnimationFrame(gameLoop);
        }
      }
      
      // Initialize
      createBlocks();
      draw();
    })();

    // Game 6: Heart Tap Challenge
    (() => {
      const tapArea = document.getElementById('tapArea');
      const tapHeart = document.getElementById('tapHeart');
      const tapScoreEl = document.getElementById('tapScore');
      const tapTimeEl = document.getElementById('tapTime');
      const tapBestEl = document.getElementById('tapBest');
      const tapStatus = document.getElementById('tapStatus');
      const tapStart = document.getElementById('tapStart');

      let score = 0;
      let timeLeft = 30;
      let bestScore = localStorage.getItem('tapBest') || 0;
      let gameActive = false;
      let timer;

      tapBestEl.textContent = bestScore;

      function updateDisplay() {
        tapScoreEl.textContent = score;
        tapTimeEl.textContent = `${timeLeft}s`;
      }

      function startGame() {
        if (gameActive) return;
        
        score = 0;
        timeLeft = 30;
        gameActive = true;
        tapArea.classList.add('active');
        tapStart.textContent = "Playing...";
        tapStatus.textContent = "Tap the heart as fast as you can! üíñ";
        
        updateDisplay();
        
        timer = setInterval(() => {
          timeLeft--;
          updateDisplay();
          
          if (timeLeft <= 0) {
            endGame();
          }
        }, 1000);
      }

      function endGame() {
        clearInterval(timer);
        gameActive = false;
        tapArea.classList.remove('active');
        tapStart.textContent = "Start Challenge";
        
        if (score > bestScore) {
          bestScore = score;
          localStorage.setItem('tapBest', bestScore);
          tapBestEl.textContent = bestScore;
          tapStatus.textContent = `New record! ${score} taps! üéâ`;
        } else {
          tapStatus.textContent = `Time's up! Score: ${score} taps!`;
        }
      }

      tapHeart.addEventListener('click', () => {
        if (!gameActive) return;
        
        score++;
        updateDisplay();
        
        // Add visual feedback
        tapHeart.style.transform = 'scale(1.2)';
        setTimeout(() => {
          tapHeart.style.transform = 'scale(1)';
        }, 100);
        
        // Change heart color occasionally
        if (score % 10 === 0) {
          const hearts = ['‚ù§Ô∏è', 'üíñ', 'üíó', 'üíì', 'üíû', 'üíï'];
          tapHeart.textContent = hearts[Math.floor(Math.random() * hearts.length)];
        }
      });

      tapStart.addEventListener('click', startGame);
      
      // Initialize
      updateDisplay();
    })();
  </script>
</body>
</html>
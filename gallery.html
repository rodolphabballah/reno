<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>Gallery | For Reine</title>
  <link rel="stylesheet" href="assets/css/style.css" />
  <!-- Mobile PWA meta tags -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="For Reine">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="theme-color" content="#ec4899">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="assets/icons/apple-touch-icon.png">
   <style>
    /* FIXED HEADER STYLES */
    .gallery-nav {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      z-index: 1000;
      display: flex;
      gap: 8px;
      padding: 12px 16px;
      /* CHANGE THIS LINE - Remove white background */
      background: transparent;
      /* Or if you want a semi-transparent dark background like other pages, use: */
      /* background: rgba(0, 0, 0, 0.3); */
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.2);
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
    }

    .gallery-nav__link {
      flex: 1;
      text-align: center;
      padding: 10px 12px;
      border-radius: 14px;
      text-decoration: none;
      font-weight: 900;
      color: rgba(17, 24, 39, 0.75);
      background: rgba(255, 255, 255, 0.55);
      border: 1px solid rgba(17, 24, 39, 0.1);
      transition: all 0.2s ease;
    }

    .gallery-nav__link:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 12px rgba(17, 24, 39, 0.1);
    }

    .gallery-nav__link.is-active {
      border: 0;
      color: white;
      background: linear-gradient(135deg, rgba(236, 72, 153, 0.95), rgba(139, 92, 246, 0.95));
    }

    /* Add padding to body to account for fixed header */
    body {
      padding-top: 60px;
    }

    /* HEARTS AND ROSES BACKGROUND STYLES */
    .bgParticles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
    }

    .bgParticle {
      position: absolute;
      top: 110%;
      left: var(--x, 50%);
      font-size: var(--size, 20px);
      opacity: 0.8;
      animation: floatUp var(--dur, 6s) ease-in forwards;
      animation-delay: var(--delay, 0s);
      will-change: transform, opacity;
      filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
    }

    @keyframes floatUp {
      0% {
        transform: translateY(0) translateX(0) rotate(0deg);
        opacity: 0;
      }
      10% {
        opacity: 0.8;
      }
      90% {
        opacity: 0.6;
      }
      100% {
        transform: translateY(calc(-100vh - 100px)) translateX(var(--drift, 0)) rotate(var(--rot, 0));
        opacity: 0;
      }
    }

    /* Adjust phone container for fixed header */
    .phone {
      position: relative;
      z-index: 1;
    }

    /* Fix for gallery screen spacing */
    .gallery-screen {
      margin-top: 0;
      padding-top: 0;
    }
  </style>
</head>
<body>
  <main class="app" aria-label="Gallery">
    <div class="phone" role="application" aria-label="Gallery for Reine">
      <!-- Background hearts and roses particles -->
      <div class="bgParticles" id="bgParticles" aria-hidden="true"></div>

      <!-- Fixed navigation header -->
      <nav class="gallery-nav" aria-label="Main navigation">
        <a href="gallery.html" class="gallery-nav__link is-active">Gallery</a>
        <a href="games.html" class="gallery-nav__link">Games</a>
        <a href="message.html" class="gallery-nav__link">Message</a>
      </nav>

      <section class="gallery-screen" id="gallery-content" aria-labelledby="giftTitle">
        <!-- The rest of your gallery.html content remains exactly the same -->
        <div class="card card--hero">
          <h2 class="h2" id="giftTitle">So this is really Renoooo, this is for you babe</h2>
          <p class="sub">I love you for a thousand years. I'm so grateful for you albee. Scroll and explore a bit of my love.</p>
        </div>

       <section class="mix" aria-label="Memories">
  <div class="mix__head">
    <div class="panel__title">Our Memories</div>
    <p class="panel__sub">Scroll through our beautiful moments together. ‚ù§Ô∏è</p>
  </div>

          <div class="mix__feed" id="mixFeed" aria-label="Mixed feed">
            <!-- Content will be populated by JavaScript -->
          </div>
        </section>

        <div class="lightbox" id="lightbox" aria-hidden="true">
          <button class="lightbox__close" id="lightboxClose" type="button" aria-label="Close">√ó</button>
          <button class="lightbox__nav" id="lightboxPrev" type="button" aria-label="Previous">‚Äπ</button>
          <figure class="lightbox__figure">
            <img class="lightbox__img" id="lightboxImg" alt="" />
            <figcaption class="lightbox__caption" id="lightboxCaption"></figcaption>
          </figure>
          <button class="lightbox__nav" id="lightboxNext" type="button" aria-label="Next">‚Ä∫</button>
        </div>
      </section>

      <footer class="bottombar" aria-label="Footer">
        <div class="bottombar__dot"></div>
      </footer>
    </div>
  </main>

  <script>
    (() => {
      // Ensure page starts at top
      window.scrollTo(0, 0);
      document.documentElement.scrollTop = 0;

      // Copy the photos and videos arrays from app.js
        const photos = [
    { src: 'assets/img/photos/1.jpeg', caption: 'Every love story is beautiful, but ours is my favorite. ‚ù§Ô∏è' },
    { src: 'assets/img/photos/2.jpeg', caption: 'In your eyes, I found my home. üè°' },
    { src: 'assets/img/photos/3.jpeg', caption: 'You are my today and all of my tomorrows. üåÖ' },
    { src: 'assets/img/photos/4.jpeg', caption: 'My heart is and always will be yours. üíì' },
    { src: 'assets/img/photos/5.jpeg', caption: 'I love you more than I have ever found a way to say to you. üíå' },
    { src: 'assets/img/photos/6.jpeg', caption: 'You are my sun, my moon, and all my stars. üåü' },
    { src: 'assets/img/photos/7.jpeg', caption: 'Forever is a long time, but I wouldn\'t mind spending it by your side. ‚è≥' },
    { src: 'assets/img/photos/8.jpeg', caption: 'I saw that you were perfect, and so I loved you. Then I saw that you were not perfect and I loved you even more. üíñ' },
    { src: 'assets/img/photos/9.jpeg', caption: 'You\'re the butter to my bread, the breath to my life. üçû' },
    { src: 'assets/img/photos/10.jpeg', caption: 'I choose you. And I\'ll choose you over and over and over. Without pause, without a doubt, in a heartbeat. I\'ll keep choosing you. üíù' },
    { src: 'assets/img/photos/11.jpeg', caption: 'You are my paradise and I\'d happily get stranded on you for a lifetime. üèùÔ∏è' },
    { src: 'assets/img/photos/12.jpeg', caption: 'I love you not only for what you are, but for what I am when I am with you. üåπ' },
    { src: 'assets/img/photos/13.jpeg', caption: 'If I had a flower for every time I thought of you, I could walk through my garden forever. üå∑' },
    { src: 'assets/img/photos/14.jpeg', caption: 'You are the poem I never knew how to write and this life is the story I have always wanted to tell. üìñ' },
    { src: 'assets/img/photos/15.jpeg', caption: 'I never want to stop making memories with you. üì∏' },
    { src: 'assets/img/photos/16.jpeg', caption: 'Your love is all I need to feel complete. ‚ú®' },
    { src: 'assets/img/photos/17.jpeg', caption: 'Every moment with you is like a beautiful dream come true. üí≠' },
    { src: 'assets/img/photos/18.jpeg', caption: 'You are my greatest adventure. üó∫Ô∏è' },
    { src: 'assets/img/photos/19.jpeg', caption: 'Loving you is the best thing that ever happened to me. üí´' },
    { src: 'assets/img/photos/20.jpeg', caption: 'You make my heart smile. üòä' },
    { src: 'assets/img/photos/21.jpeg', caption: 'I fell in love with you because of the million things you never knew you were doing. ü•∞' },
    { src: 'assets/img/photos/22.jpeg', caption: 'My love for you is a journey starting at forever and ending at never. ‚ôæÔ∏è' }
  ];
      const videos = [];

      const mixFeed = document.getElementById('mixFeed');
      const lightbox = document.getElementById('lightbox');
      const lightboxImg = document.getElementById('lightboxImg');
      const lightboxCaption = document.getElementById('lightboxCaption');
      const lightboxClose = document.getElementById('lightboxClose');
      const lightboxPrev = document.getElementById('lightboxPrev');
      const lightboxNext = document.getElementById('lightboxNext');

      let activePhotoIndex = 0;

      function renderMixFeed() {
        if (!mixFeed) return;
        mixFeed.innerHTML = '';

        const hasAny = photos.length || videos.length;
        if (!hasAny) {
          const p = document.createElement('div');
          p.className = 'card';
          p.textContent = 'Add photos to assets/img/photos/ and videos to assets/video/, then list them in assets/js/app.js (photos/videos arrays).';
          mixFeed.appendChild(p);
          return;
        }

        const maxLen = Math.max(photos.length, videos.length);
        const feed = [];
        for (let i = 0; i < maxLen; i++) {
          if (photos[i]) feed.push({ kind: 'photo', index: i, ...photos[i] });
          if (videos[i]) feed.push({ kind: 'video', index: i, ...videos[i] });
        }

        const floatClasses = ['floatA', 'floatB', 'floatC'];

        feed.forEach((item, i) => {
          const row = document.createElement('article');
          row.className = `mixItem ${i % 2 === 0 ? 'is-left' : 'is-right'}`;

          const card = document.createElement('div');
          card.className = `mixCard ${floatClasses[i % floatClasses.length]}`;

          const media = document.createElement('div');
          media.className = 'mixCard__media';

          if (item.kind === 'photo') {
            const btn = document.createElement('button');
            btn.type = 'button';
            btn.style.padding = '0';
            btn.style.border = '0';
            btn.style.background = 'transparent';
            btn.style.width = '100%';
            btn.addEventListener('click', () => openLightbox(item.index));

            const img = document.createElement('img');
            img.src = item.src;
            img.alt = item.caption || `Photo ${item.index + 1}`;
            img.loading = 'lazy';

            btn.appendChild(img);
            media.appendChild(btn);
          } else {
            const v = document.createElement('video');
            v.controls = true;
            v.preload = 'metadata';
            v.src = item.src;
            media.appendChild(v);
          }

          const body = document.createElement('div');
          body.className = 'mixCard__body';

          const title = document.createElement('p');
          title.className = 'mixCard__title';
          title.textContent = item.kind === 'video' ? (item.title || 'Video') : 'Photo';

          body.appendChild(title);

          const messageWrap = document.createElement('div');
          messageWrap.className = 'mixCard__message';

          const message = document.createElement('p');
          message.className = 'mixCard__messageText';
          message.textContent = item.message || item.caption || '';

          messageWrap.appendChild(message);
          body.appendChild(messageWrap);

          card.appendChild(media);
          card.appendChild(body);
          row.appendChild(card);
          mixFeed.appendChild(row);
        });
      }

      function openLightbox(idx) {
        activePhotoIndex = idx;
        updateLightbox();
        lightbox.classList.add('is-open');
        lightbox.setAttribute('aria-hidden', 'false');
      }

      function closeLightbox() {
        lightbox.classList.remove('is-open');
        lightbox.setAttribute('aria-hidden', 'true');
      }

      function updateLightbox() {
        const item = photos[activePhotoIndex];
        if (!item) return;
        lightboxImg.src = item.src;
        lightboxImg.alt = item.caption || `Photo ${activePhotoIndex + 1}`;
        lightboxCaption.textContent = item.caption || '';
      }

      function prevPhoto() {
        if (!photos.length) return;
        activePhotoIndex = (activePhotoIndex - 1 + photos.length) % photos.length;
        updateLightbox();
      }

      function nextPhoto() {
        if (!photos.length) return;
        activePhotoIndex = (activePhotoIndex + 1) % photos.length;
        updateLightbox();
      }

      // Event listeners for lightbox
      lightboxClose.addEventListener('click', closeLightbox);
      lightboxPrev.addEventListener('click', prevPhoto);
      lightboxNext.addEventListener('click', nextPhoto);

      lightbox.addEventListener('click', (e) => {
        if (e.target === lightbox) closeLightbox();
      });

      document.addEventListener('keydown', (e) => {
        if (!lightbox.classList.contains('is-open')) return;
        if (e.key === 'Escape') closeLightbox();
        if (e.key === 'ArrowLeft') prevPhoto();
        if (e.key === 'ArrowRight') nextPhoto();
      });

      // Start background particles with enhanced emojis
      function spawnBgParticle() {
        const bgParticles = document.getElementById('bgParticles');
        if (!bgParticles) return;
        if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;

        const el = document.createElement('span');
        el.className = 'bgParticle';

        // Enhanced emoji selection with more variety
        const heartEmojis = ['‚ù§Ô∏è', 'üíô', 'üñ§',  '‚ù£Ô∏è', 'üíï', 'üíû', 'üíì', 'üíó', 'üíñ', 'üíò', 'üíù', 'üíü', '‚ô•Ô∏è', 'üî•', 'üíå'];
        const roseEmojis = ['üåπ', 'üå∏', 'üíê', 'üå∫', 'üå∑', 'üåº'];
        const allEmojis = [...heartEmojis, ...roseEmojis];
        
        const pick = Math.random();
        el.textContent = allEmojis[Math.floor(Math.random() * allEmojis.length)];

        const x = Math.random() * 100;
        const size = 14 + Math.random() * 20;
        const dur = 5.5 + Math.random() * 5.5;
        const drift = (-16 + Math.random() * 32).toFixed(2) + 'px';
        const rot = (-18 + Math.random() * 36).toFixed(2) + 'deg';

        el.style.setProperty('--x', x.toFixed(2) + '%');
        el.style.setProperty('--size', size.toFixed(0) + 'px');
        el.style.setProperty('--dur', dur.toFixed(2) + 's');
        el.style.setProperty('--drift', drift);
        el.style.setProperty('--rot', rot);

        bgParticles.appendChild(el);

        window.setTimeout(() => {
          el.remove();
        }, Math.ceil(dur * 1000) + 200);
      }

      function startParticles() {
        const bgParticles = document.getElementById('bgParticles');
        if (!bgParticles) return;
        for (let i = 0; i < 8; i++) spawnBgParticle();
        window.setInterval(spawnBgParticle, 420);
      }

      // Initialize everything
      renderMixFeed();
      startParticles();
    })();
  </script>
</body>

</html>
